s.boot;

SynthDef(\myNoise, {arg startFreq, endFreq, dur;
	Out.ar(0, LPF.ar(WhiteNoise.ar(0.1),Line.kr(startFreq,endFreq,dur)));
	Out.ar(1, LPF.ar(WhiteNoise.ar(0.1),Line.kr(startFreq,endFreq,dur)))
}).add

// Synth(\myNoise, [\startFreq, 100.0, \endFreq, 139.98123, \dur, 0.2]);


r = Routine({

	var freqs = [100.0, 139.98123, 190.8959, 217.95468, 191.73038, 246.20607, 290.5138, 298.96558, 316.6688, 331.05075, 394.3562, 441.34692, 465.4642, 490.6977, 568.5631, 610.9685, 615.153, 654.00995, 708.44336, 767.84753, 817.84845, 876.16046, 914.953, 978.6025, 1057.4023, 1157.9816, 1214.7334, 1276.5546, 1364.049, 1367.0901, 1357.2335, 1455.392, 1511.1942, 1531.9525, 1635.8676, 1615.1218, 1554.6393, 1538.2301, 1530.7195, 1597.889, 1655.8339, 1716.5535, 1768.5308, 1845.8933, 1893.5194, 1896.2843, 1921.1998, 1897.6224, 1893.3993, 1931.7124, 1979.3751, 2031.2614, 2070.7478, 2077.7578, 2072.2808, 2135.4966, 2193.7988, 2229.6462, 2367.781, 2500.7136, 2608.1287, 2711.9834, 2771.6948, 2871.8943, 2836.407, 2991.7473, 3121.646, 3178.1987, 3207.2434, 3237.2285, 3232.8928, 3254.2644, 3302.3872, 3344.6052, 3220.5154, 3257.2256, 3327.7654, 3433.6099, 3570.2866, 3768.223, 4000];

	var freqs2 = [139.98123, 190.8959, 217.95468, 191.73038, 246.20607, 290.5138, 298.96558, 316.6688, 331.05075, 394.3562, 441.34692, 465.4642, 490.6977, 568.5631, 610.9685, 615.153, 654.00995, 708.44336, 767.84753, 817.84845, 876.16046, 914.953, 978.6025, 1057.4023, 1157.9816, 1214.7334, 1276.5546, 1364.049, 1367.0901, 1357.2335, 1455.392, 1511.1942, 1531.9525, 1635.8676, 1615.1218, 1554.6393, 1538.2301, 1530.7195, 1597.889, 1655.8339, 1716.5535, 1768.5308, 1845.8933, 1893.5194, 1896.2843, 1921.1998, 1897.6224, 1893.3993, 1931.7124, 1979.3751, 2031.2614, 2070.7478, 2077.7578, 2072.2808, 2135.4966, 2193.7988, 2229.6462, 2367.781, 2500.7136, 2608.1287, 2711.9834, 2771.6948, 2871.8943, 2836.407, 2991.7473, 3121.646, 3178.1987, 3207.2434, 3237.2285, 3232.8928, 3254.2644, 3302.3872, 3344.6052, 3220.5154, 3257.2256, 3327.7654, 3433.6099, 3570.2866, 3768.223, 4000, 4000];

	s.record;
	(
		Synth(\myNoise, [\startFreq, 100, \endFreq, 100, \dur, 4 / 2]);
		2.yield;
	);
	freqs.do({arg item, i;
		var dur;
		if( item == 4000, { dur = 4 / 2 }, { dur = 0.275 / 2 });
		[i, dur / 2].postln;
		Synth(\myNoise, [\startFreq, item, \endFreq, freqs2.at( i + 1 ), \dur, dur]);
		dur.yield
	});
	"done".postln;
	s.stopRecording;
})


s.prepareForRecord;
r.play;
r.stop;
